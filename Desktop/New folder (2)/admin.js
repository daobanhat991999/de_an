let listSanPham = [
    // {
    //     "img": "./images/product_images/americano.jpg",
    //     "name": "Americano",
    //     "price": "55000",
    //     "type": ["món d?c bi?t","espresso"],
    //     "countTotal":0,
    //     "issale":0
    // },
    // {
    //     "img": "./images/product_images/caramel_macchiato.jpg",
    //     "name": "caramel macchiato",
    //     "price": "65000",
    //     "type": ["món d?c bi?t","espresso"],
    //     "countTotal":0,
    //     "issale":0
    // },
    // {
    //     "img": "./images/product_images/espresso.jpg",
    //     "name": "espresso",
    //     "price": "55000",
    //     "type": ["món d?c bi?t","espresso"],
    //     "countTotal":0,
    //     "issale":0
    // },
    // {
    //     "img": "./images/product_images/milk_coffee.jpg",
    //     "name": "nâu dá",
    //     "price": "30000",
    //     "type": ["món d?c bi?t","cà phê phin"],
    //     "countTotal":0,
    //     "issale":0
    // },
    // {
    //     "img": "./images/product_images/tra_phuc_bon_tu.png",
    //     "name": "trà phúc b?n t?",
    //     "price": "65000",
    //     "type": ["món d?c bi?t","trà"],
    //     "countTotal":0,
    //     "issale":0
    // },
    // {
    //     "img": "./images/product_images/tra_xoai_macchiato.jpg",
    //     "name": "trà xoài macchiato",
    //     "price": "65000",
    //     "type": ["món d?c bi?t","trà"],
    //     "countTotal":0,
    //     "issale":0
    // },
    // {
    //     "img": "./images/product_images/americano.jpg",
    //     "name": "Americano",
    //     "price": "55000",
    //     "type": "món d?c bi?t",
    //     "countTotal":0,
    //     "issale":0
    // },
    {
        "img": "./images/product_images/caramel_macchiato.jpg",
        "name": "Caramel macchiato",
        "price": 65000,
        "type": "espresso",
        "countTotal": 0,
        "issale": 0
    },
    {
        "img": "./images/product_images/espresso.jpg",
        "name": "Espresso",
        "price": 55000,
        "type": "espresso",
        "countTotal": 0,
        "issale": 0
    },
    {
        "img": "./images/coffee_bean/coffee_bean_metal.JPG",
        "name": "Metal coffee bean",
        "price": 300000,
        "type": "coffeeBean",
        "countTotal": 0,
        "issale": 0
    },
    {
        "img": "./images/coffee_bean/coffee_bean_wood.JPG",
        "name": "Wood coffee bean",
        "price": 300000,
        "type": "coffeeBean",
        "countTotal": 0,
        "issale": 0
    },
    {
        "img": "./images/coffee_bean/coffee_bean_water.JPG",
        "name": "Water coffee bean",
        "price": 300000,
        "type": "coffeeBean",
        "countTotal": 0,
        "issale": 0
    },
    {
        "img": "./images/coffee_bean/coffee_bean_fire.JPG",
        "name": "Fire coffee bean",
        "price": 300000,
        "type": "coffeeBean",
        "countTotal": 0,
        "issale": 0
    },
    {
        "img": "./images/coffee_bean/coffee_bean_earth.JPG",
        "name": "Earth coffee bean",
        "price": 300000,
        "type": "coffeeBean",
        "countTotal": 0,
        "issale": 0
    },
    {
        "img": "./images/coffee_bean/coffee_bean_for_test.JPG",
        "name": "Coffee bean for test",
        "price": 20000,
        "type": "coffeeBean",
        "countTotal": 0,
        "issale": 0
    },
    {
        "img": "./images/product_images/den.jpg",
        "name": "Cà phê đen",
        "price": 29000,
        "type": "cà phê phin",
        "countTotal": 0,
        "issale": 0
    },
    {
        "img": "./images/product_images/milk_coffee.jpg",
        "name": "Cà phê nâu",
        "price": 32000,
        "type": "cà phê phin",
        "countTotal": 0,
        "issale": 0
    },
    {
        "img": "./images/product_images/bac_siu.jpg",
        "name": "Bạc sỉu",
        "price": 32000,
        "type": "cà phê phin",
        "countTotal": 0,
        "issale": 0
    },
    {
        "img": "./images/product_images/tra_phuc_bon_tu.png",
        "name": "Trà phúc bồn tử",
        "price": 60000,
        "type": "trà",
        "countTotal": 0,
        "issale": 0
    },
    {
        "img": "./images/product_images/tra_xoai_macchiato.jpg",
        "name": "Trà xoài macchiato",
        "price": 65000,
        "type": "trà",
        "countTotal": 0,
        "issale": 0
    },
    {
        "img": "./images/product_images/tra_cherry_macchiato.jpg",
        "name": "Trà cherry",
        "price": 65000,
        "type": "trà",
        "countTotal": 0,
        "issale": 0
    },
    {
        "img": "./images/product_images/coldbrew.jpg",
        "name": "Coldbrew",
        "price": 55000,
        "type": "coldbrew",
        "countTotal": 0,
        "issale": 0
    },
    {
        "img": "./images/product_images/coldbrew_cam_sa.jpg",
        "name": "Coldbrew cam sả",
        "price": 60000,
        "type": "coldbrew",
        "countTotal": 0,
        "issale": 0
    },
    {
        "img": "./images/product_images/coldbrew_milk.jpg",
        "name": "Coldbrew sữa",
        "price": 60000,
        "type": "coldbrew",
        "countTotal": 0,
        "issale": 0
    },
    {
        "img": "./images/product_images/coldbrew_phuc_bon_tu.png",
        "name": "Coldbrew bồn tử",
        "price": 65000,
        "type": "coldbrew",
        "countTotal": 0,
        "issale": 0
    },
    {
        "img": "./images/product_images/iced_chocolate.jpg",
        "name": "Ice chocolate",
        "price": 65000,
        "type": "iceDrink",
        "countTotal": 0,
        "issale": 0
    },
    {
        "img": "./images/product_images/matcha_latte.jpg",
        "name": "Matcha latte",
        "price": 65000,
        "type": "iceDrink",
        "countTotal": 0,
        "issale": 0
    },
]
localStorage.setItem("listSanPhamLocalStory", JSON.stringify(listSanPham));
//------------------------------------------------------------------
function listProduct() {
    let data = JSON.parse(localStorage.getItem("listSanPhamLocalStory"));
    let s = "";
    for (let i = 0; i < data.length; i++) {
        const element = data[i];
        s += `<tr>
        <th scope="row">${i + 1}</th>
        <td>${element.name}</td>
        <td>${element.price}</td>
        <td>${element.type}</td>
        <td>${element.issale}%</td>
        <td>
            <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#Edit">
                Edit
            </button>
            <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#Delete" data-itemId="${element.name}" onclick = "delProduct1(event)">
                Delete
            </button>
        </td>
    </tr>
        `
    }
    document.getElementById("list-product").innerHTML = s;
}
listProduct()

function addProduct() {
    let listSanPham = JSON.parse(localStorage.getItem("listSanPhamLocalStory"));

    listSanPham.push({
        img: document.getElementById("addImg").value,
        name: document.getElementById("addName").value,
        price: document.getElementById("addCost").value,
        type: document.getElementById("addType").value,
        issale: document.getElementById("addSale").value
    })
    localStorage.setItem("listSanPhamLocalStory", JSON.stringify(listSanPham))
    listProduct();
    alert('Update success');
}
function delProduct1(e) {
    let bienTam = e.target.dataset.itemid;
    return bienTam;
}
function delProduct2() {
    let bienTam = delProduct1();
    let listSanPham = JSON.parse(localStorage.getItem('listSanPhamLocalStory'))
    for (let i = 0; i < listSanPham.length; i++) {
        if (listSanPham[i].name == bienTam) {
            listSanPham.splice(i, 1)
        }
    }
    localStorage.setItem("listSanPhamLocalStory", JSON.stringify(listSanPham));
    listProduct();
}
//--------------------------validate--------------------------------------
// let validateName = false;
// let validatePhoneNumber = false;
// let validateAddress = false;

// function validateText(id,) {
//     if (document.getElementById('#id').value == '') {
//         document.getElementById('name-error').innerHTML = '<i style="color: red">Bạn chưa điền tên</i>';
//     }
//     else {
//         document.getElementById('name-error').innerHTML = '<i class="fa fa-check" style="color:green;"> Hoàn thành </i>';
//         validateName = true;
//     }
// }

// function validate2() {
//     var regex = /((09|03|07|08|05)+([0-9]{8})\b)/g;
//     var numberPhone = $('#so_dien_thoai').val();
//     if (document.getElementById('so_dien_thoai').value == '') {
//         document.getElementById('phonenumber-error').innerHTML = '<i style="color: red">Bạn chưa điền số điện thoại</i>';
//     }
//     else if (regex.test(numberPhone) == false) {
//         document.getElementById('phonenumber-error').innerHTML = '<i style="color: red">Số điện thoại không hợp lệ(đủ 10 chữ số)</i>';
//     }
//     else {
//         document.getElementById('phonenumber-error').innerHTML = '<i class="fa fa-check" style="color:green;"> Hoàn thành</i>';
//         validatePhoneNumber = true;
//     }
// }

// function validate3() {
//     if (document.getElementById('dia_chi_giao_hang').value == '') {
//         document.getElementById('address-error').innerHTML = '<br><i style="color: red">Bạn chưa điền địa chỉ</i>';
//     }
//     else {
//         document.getElementById('address-error').innerHTML = '<i class="fa fa-check" style="color:green;"> Hoàn thành</i>';
//         validateAddress = true;
//     }
// }